# Exercise Questions
This is the second part of the take home exercise, intended to be completed after the coding challenge. If you have not yet completed the coding challenge, start by following the instructions in the [Code challenge README](https://github.com/framework-homeownership/candidate-challenges/blob/main/challenge/README.md) in the `challenge/` directory of this repository and return to this section after.

This part of the exercise will provide a theoretical scenario, building off of the work you have done for the coding exercise, and ask some questions around that scenario.

## Scenario
This scenario will expand on the work you did for the Library module, but will NOT require any new code to be written. The output from this section will be written answers to questions and some documentation. You are welcome to email any of your contacts at Framework to ask any questions you have about the exercise. These questions are intended to be open-ended, please provide as much or as little detail as is you think relevant.

Now that the code changes to the Library module are complete, you have been tasked with designing a new User service to track which Library resources an individual has checked out, as well as restricting access to users without an account. At a minimum this service will need to be comprised of a new API and new table(s) in a pre-existing RDBMS. The intent is to launch this new service on a cloud provider (of your choice), with the following requirements:
- Communicates with a backend database.
- Caching mechanism for data retrieved from RDBMS.
- Should have redundancy and high availablity.
- Calls to API must be authenticated and authorized.
- Average request load to API expected to be ~50 calls per minute, but with spikes to ~10,000,000 requests per minute a few times per month. These spikes should be handled without manual intervention.
- After the initial deployments, subsequent ones should be fairly automated.


Question 1. How would you design the data model for this new service, and how would it relate to the Library? Please provide some sort of schema or diagram and document any concerns/considerations you made that are not directly reflected in your documentation. Documentation can be hand drawn or generated with a tool of your choice.

Please see the attached Library User Profile_Taqiyya.pdf file.


Question 2. How would you control access to Library content? Describe what this mechanism would look like and list any services you would use to accomplish this goal.
I would use AWS Identity Access Management (IAM) service to control access to the Library content. I would assign applicable roles to users to limit their access to certain content based on the user's age and membership type. For example, users under the age of 12 I would assign a role called 'minor' and limit their access to fiction, nonfiction and poetry. Similarly, I would create a role called 'premium' that would allow users that are subscribed to the library's all-inclusive membership type to have access to the full catalogue of all of the content types. Otherwise, members with a role of 'standard' would only have access to half of the offerings within a particular content type.


Question 3. How would you ensure your service would continue functioning if the datacenter it was deployed in had a catastrophic failure and was completely wiped off the map.
In order to prevent this scenario from happening at all, I would configure the system with Amazon Elastic Cloud Compute (EC2). Amazon EC2 allows us to create multiple virtual instances of the datacenter across multiple availability zones . If a catastrophic failure were to occur in one place, we could troubleshoot the issues without causing any interruption to the end users. Before rolling out the fix to the failure, we could do a canary release to be tested amongst a small group of users to ensure the issue is truly resolved before deploying to all users.

Question 4. Describe how you would approach building a dynamically scalable API. Are there any prerequisites for the service code for this to work?
As mentioned above, I would incorporate the Amazon EC2 service, which also allows for dynamic scaling. To ensure optimal performance I would make sure that the service code is split up into small chunks that perform specific tasks. For example, checking out an item from the library would be it's own service. Additionally, I would create a service that holds the data for the library's inventory. Creating these separate buckets allows us to easily manage the application's features and to easily add or remove items as the application requirements grow or change.

Question 5. Provide a diagram of how you envision the architecture for this to be deployed in a cloud provider. Any provider you choose is acceptable, just be sure to document the services/tools you would be using. Diagrams can be hand drawn or generated by a tool of your choice.

Please see the attached Framework Question 5_Taqiyya.pdf file.

Question 6. After a successful launch of your brand new service (congrats!) it runs flawlessly for a few months. Then suddenly, every Tuesday and Thursday the service falls over and requires manual intervention to get it running again. You don't see any obvious problems. How would you go about troubleshooting this issue? Detail your approach and any tools/services you would use to accomplish this task.
In order to troubleshoot the issue I would use the Amazon CloudWatch service to take a look into the application logs and metrics to identify the root cause. I would have the dashboard configured to monitor each of my services so that I could immediately pinpoint where the issue occurred. Once I have determined the location of the issue, I would go through the CloudWatch logs to figure out the time the issue occurred and do some research into what was happening before the failure occurred. I would then try to replicate the action to better understand why the failure is happening and what I can do to avoid it from happening in the future.

Question 7. Are there any requirements that have not been given as part of this scenario that you would consider essential and push to have included for any service being developed?
One additional requirement that I would recommend for this scenario is setting up a historical datawarehouse. With this service, we could track customer's checkout history, preferences, and visit frequency. These metrics would allow us to better understand the users and suggest content to them that is both relevant and interesting. 

Inventory management service to track the utilization of the library resources. This would allow for us to have a good idea of the resources that are most or least utilized by library visitors. 

